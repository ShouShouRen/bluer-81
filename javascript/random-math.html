<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }
        .box{
            width: 350px;
            padding: 2em;
            margin: 2em auto;
        }
        .box h1{
            text-align: center;
        }
        .box input{
            width: 70%;
            font-size: 1em;
            padding: 0.5em;
            margin: 1em 0;
        }
        .box button{
            width: 28%;
            font-size: 1em;
            padding: 0.5em;
            margin: 1em 0;
        }
        .box h3{
            text-align: center;
            font-size: 2em;
        }
    </style>
</head>
<body>
    <div class="box">
        <h1>終極密碼</h1>
        <input type="text" placeholder="請輸入任意數值" id="user">
        <button type="button">提交</button>
        <h3><span id="min">0</span> ~ <span id="max">100</span></h3>
        <h3 id="gameover"></h3>
    </div>
</body>
</html>
<script>
    let btn = document.getElementsByTagName("button")[0];
    rerun();
    function rerun(){
        let cpu = Math.floor(Math.random() * 100);
        if(cpu == 0){
            rerun();
        }else{
            start(cpu);
        }
    }

    function start(cpu){
        console.log(cpu);
        btn.addEventListener("click",function(){
            let min = document.getElementById("min");
            let max = document.getElementById("max");
            let user = document.getElementById("user");
            document.getElementById("gameover").textContent = "";
            if(user.value >= Number(max.textContent) || user.value <= Number(min.textContent)){
                document.getElementById("gameover").textContent = "輸入錯誤";
            }else if(user.value == cpu){
                gameover();
            }else if(user.value < cpu){
                min.textContent = user.value;
                console.log(min.textContent,max.textContent);
            }else if(user.value > cpu){
                max.textContent = user.value;
                console.log(min.textContent,max.textContent);
            }else{
                document.getElementById("gameover").textContent = "輸入錯誤";
            }
            user.value = "";
        })
    }
    
    function gameover(){
        document.getElementById("gameover").textContent = "遊戲結束";
    }
</script>